{"version":3,"sources":["main.js"],"names":["SearchSection","el","search","query","querySelector","button","resultsSection","cardsHolder","document","createElement","addEventListener","e","preventDefault","fireSearch","console","log","oReq","XMLHttpRequest","url","value","key","response","page","results","currentTarget","cards","handleResults","className","innerHTML","length","forEach","card","cardCol","appendChild","error","loader","src","open","send","apiResp","JSON","parse","arrCards","Response","Error","Search","data","Card","push","render","props","id","imdbID","title","Title","year","Year","type","Type","poster","Poster","elements","createElements","imgHolder","img","cardBody","cardFooter","heading","btn","style","backgroundImage","alt","innerText","href","dataset","imdbid","goToDetails","plot","result","movieDetails","MovieDetails","searchResults","buildDetailsView","outerHTML","details","detailsLayout","firstSection","posterHolder","posterImg","smDescript","smDetailsList","director","actors","production","boxOfice","released","votes","posterURL","classList","Director","Actors","Production","BoxOffice","Released","imdbVotes","seccondSection","Plot","thirdSection","ratings","Ratings","div","source","rate","Source","Value","arrSearchSections","querySelectorAll","searchSection"],"mappings":"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","sourcesContent":["(() => {\n  class SearchSection {\n    constructor(el){\n      // set properties\n      this.search = {\n        query: el.querySelector('form input[type=text]'),\n        button: el.querySelector('form input[type=submit]')\n      };\n      this.resultsSection = el.querySelector('section.search-results');\n      this.cardsHolder = document.createElement('div');\n\n      // bind events\n      this.search.button.addEventListener('click', e => {\n        e.preventDefault();\n        this.fireSearch();\n      });\n    }\n\n    getHints() {\n      console.log('geting hints');\n    }\n\n    fireSearch() {\n      const oReq = new XMLHttpRequest;\n      const url = \"https://www.omdbapi.com/\";\n      const search = `s=${this.search.query.value}`;\n      const key = `apikey=31edb057`;\n      const response = `r=json`;\n      const page = `page=1`;\n      \n      oReq.addEventListener(\"load\", e => {\n        const results = e.currentTarget.response;\n        const cards = this.handleResults(results);\n        const cardsHolder = document.createElement('div');\n        cardsHolder.className = 'cards-holder';\n        \n        this.resultsSection.innerHTML = '';\n        if(!!cards.length){\n          cards.forEach(card => {\n            const cardCol = document.createElement('span');\n            \n            cardCol.className = 'col-4';\n\n            cardCol.appendChild(card);\n            cardsHolder.appendChild(cardCol);\n            this.resultsSection.appendChild(cardsHolder);\n          });\n        } else {\n            this.resultsSection.innerHTML = `<h2>Oops, an error occurred!</h2><p>${cards.error}</p><h2>Please try again!</h2>`;\n        }\n      });\n      const loader = document.createElement('img');\n      loader.src = './dist/imgs/91.gif';\n      this.resultsSection.appendChild(loader)\n      oReq.open(\"GET\", `${url}?${search}&${key}&${response}&${page}`);\n      oReq.send();\n    }\n\n    handleResults(results) {\n      const apiResp = JSON.parse(results);\n      const arrCards = [];\n      if(apiResp.Response == 'True' && !apiResp.Error){\n        apiResp.Search.forEach( data => {\n          const card = new Card(data);\n          arrCards.push(card.render());\n        });\n        return arrCards;\n      }\n      else {\n        return {error: apiResp.Error};\n      }\n    }\n\n\n  }\n  \n  class Card {\n    constructor(props){\n      this.id = props.imdbID;\n      this.title = props.Title;\n      this.year = props.Year;\n      this.type = props.Type;\n      this.poster = (props.Poster != \"N/A\" && props.Poster) || './dist/imgs/placeholder-movieimage.png';\n      this.elements = this.createElements();\n    }\n\n    createElements(){\n      const card = document.createElement('div');\n      const imgHolder = document.createElement('div');\n      const img = document.createElement('img');\n      const cardBody = document.createElement('div');\n      const cardFooter = document.createElement('div');\n      const heading = document.createElement('h3');\n      const type = document.createElement('p');\n      const btn = document.createElement('a');\n\n      card.className = \"card\";\n      imgHolder.className = \"card-image bg-cover\";\n      cardBody.className = \"card-descriptions\";\n      cardFooter.className = \"card-footer\";\n\n      imgHolder.style.backgroundImage = `url(${this.poster})`;\n      img.src = this.poster;\n      img.alt = `${this.title} Movie Poster`;\n      imgHolder.appendChild(img);\n      heading.innerText = `${this.title}`;\n      type.innerHTML = `\n        <b>Year:</b> ${this.year} <br/>\n        <b>Type:</b> ${this.type}\n      `;\n      cardBody.appendChild(heading);\n      cardBody.appendChild(type);\n      btn.innerText = 'See Details';\n      btn.href = '#';\n      btn.dataset.imdbid = this.id;\n      btn.className = 'btn btn-red btn-details';\n      btn.addEventListener('click', e => {\n        e.preventDefault();\n        this.goToDetails();\n      });\n      cardFooter.appendChild(btn);\n      card.appendChild(imgHolder);\n      card.appendChild(cardBody);\n      card.appendChild(cardFooter);\n\n      return card;\n    }\n\n    goToDetails(){\n      const oReq = new XMLHttpRequest;\n      const url = \"https://www.omdbapi.com/\";\n      const search = `i=${this.id}`;\n      const key = `apikey=31edb057`;\n      const plot = `plot=full`;\n      const response = 'r=json';\n      \n      oReq.addEventListener(\"load\", e => {\n        const result = e.currentTarget.response;\n        const movieDetails = new MovieDetails(JSON.parse(result));\n        const searchResults = document.querySelector('section.search-results');\n\n        searchResults.innerHTML = movieDetails.buildDetailsView().outerHTML;\n      });\n      oReq.open(\"GET\", `${url}?${search}&${key}&${plot}&${response}`);\n      oReq.send();\n    }\n\n    render(){\n      return this.elements;\n    }\n  }\n\n  class MovieDetails {\n    constructor(props) {\n      this.details = props;\n    }\n\n    buildDetailsView() {\n      // Master parent holder\n      const detailsLayout = document.createElement('div');\n      detailsLayout.className = 'details';\n\n      // Top section for poster and small descriptions\n      const firstSection = document.createElement('section');\n      const posterHolder = document.createElement('div');\n      const posterImg = document.createElement('img');\n      const smDescript = document.createElement('div');\n      const heading = document.createElement('h2');\n      const smDetailsList = document.createElement('ul');\n      const director = document.createElement('li');\n      const actors = document.createElement('li');\n      const production = document.createElement('li');\n      const boxOfice = document.createElement('li');\n      const released = document.createElement('li');\n      const votes = document.createElement('li');\n      const posterURL = (this.details.Poster != \"N/A\" && this.details.Poster) || './dist/imgs/placeholder-movieimage.png';\n\n      firstSection.className = 'details-firstSection';\n      posterHolder.classList = 'bg-cover details-poster';\n      smDescript.classList = 'details-smDescription';\n\n      posterHolder.style.backgroundImage = `url(${posterURL})`;\n      posterImg.src = posterURL;\n      posterImg.alt = `${this.details.Title} Movie Poster`;\n      heading.innerText = `${this.details.Title} (${this.details.Year})`;\n      director.innerHTML = `<span class='list-label'>Director:</span> ${this.details.Director}`;\n      actors.innerHTML = `<span class='list-label'>Actors:</span> ${this.details.Actors}`;\n      production.innerHTML = `<span class='list-label'>Production:</span> ${this.details.Production}`;\n      boxOfice.innerHTML = `<span class='list-label'>Box Office:</span> ${this.details.BoxOffice}`;\n      released.innerHTML = `<span class='list-label'>Released:</span> ${this.details.Released}`;\n      votes.innerHTML = `<span class='list-label'>IMDb Votes:</span> ${this.details.imdbVotes}`;\n\n      posterHolder.appendChild(posterImg);\n      smDetailsList.appendChild(director);\n      smDetailsList.appendChild(actors);\n      smDetailsList.appendChild(production);\n      smDetailsList.appendChild(boxOfice);\n      smDetailsList.appendChild(released);\n      smDetailsList.appendChild(votes);\n      smDescript.appendChild(heading);\n      smDescript.appendChild(smDetailsList);\n      firstSection.appendChild(posterHolder);     \n      firstSection.appendChild(smDescript);     \n      \n      // Second section, more details and plot\n      const seccondSection = document.createElement('section');\n      const plot = document.createElement('div');\n\n      plot.innerHTML = `<h3>Plot: </h3><p>${this.details.Plot}</p>`;\n\n      seccondSection.className = 'details-seccondSection';\n\n      seccondSection.appendChild(plot);\n\n      // Second section, more details and plot\n      const thirdSection = document.createElement('section');\n\n      thirdSection.innerHTML = \"<h3>Ratings: </h3\";\n      thirdSection.className = 'details-thirdSection';\n      \n      let ratings = [];\n      this.details.Ratings.forEach( el => {\n        const div = document.createElement('div');\n        const img = document.createElement('img');\n        const source = document.createElement('h4');\n        const rate = document.createElement('p');\n\n        div.className = 'rating-card col-3';\n        source.innerText = el.Source;\n        rate.innerHTML = el.Value;\n        img.src = \n          el.Source == 'Internet Movie Database' && 'dist/imgs/imdb.png'\n          || el.Source == 'Rotten Tomatoes' && 'dist/imgs/rotten-tomatoes.png'\n          || el.Source == 'Metacritic' && 'dist/imgs/metacritic.png'\n        ;\n        img.alt = `${el.Source} ilustrative png image`;\n\n        div.appendChild(img); \n        div.appendChild(source); \n        div.appendChild(rate); \n\n        thirdSection.appendChild(div);\n      });\n\n\n      detailsLayout.appendChild(firstSection)\n      detailsLayout.appendChild(seccondSection);\n      detailsLayout.appendChild(thirdSection);\n\n      return detailsLayout;\n    }\n    \n  }\n  \n  const arrSearchSections = document.querySelectorAll('section.search');\n  arrSearchSections.forEach( el => {\n    const searchSection = new SearchSection(el);\n    searchSection.search.query.value = \"batman\";\n    searchSection.fireSearch();\n  });\n})()\n"],"file":"../main.js"}